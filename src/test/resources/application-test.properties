# Test configuration for Testcontainers
# These properties are overridden by @DynamicPropertySource in AbstractIntegrationTest

# Database (will be overridden by Testcontainers)
spring.datasource.url=jdbc:postgresql://localhost:5432/testdb
spring.datasource.username=test
spring.datasource.password=test
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA/Hibernate
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

# Liquibase
spring.liquibase.enabled=true
spring.liquibase.change-log=classpath:db/changelog/db.changelog-master.xml

# JWT (use test values)
jwt.secret=test-secret-key-for-testing-purposes-only-must-be-at-least-256-bits-long
jwt.access-token-expiration=3600000
jwt.refresh-token-expiration=86400000

# Email (disable for tests)
spring.mail.host=localhost
spring.mail.port=1025
spring.mail.username=test
spring.mail.password=test
app.mail.from=test@example.com
app.mail.verification-url=http://localhost:8080/verify

# Disable mail health check for tests (no mail server in tests)
management.health.mail.enabled=false

# AI Service (mock configuration for tests - will be overridden by @DynamicPropertySource in tests that use WireMock)
app.ai.openrouter.base-url=http://localhost:8089/api/v1
app.ai.openrouter.api-key=test-api-key-for-testing
app.ai.openrouter.model=openai/gpt-4o-mini
app.ai.prompt-template.knowledge=Generate {count} flashcards from this text: {text}
app.ai.prompt-template.language=Generate {count} flashcards for CEFR level {level} from this text: {text}

# Logging
logging.level.org.springframework=INFO
logging.level.org.hibernate=INFO
logging.level.pl.olesek._xcards=DEBUG
logging.level.org.testcontainers=INFO


